---
interface Props {
    relatedQuestions?: any[];
    relatedBlogs?: any[];
    currentPage?: string;
}

const {
    relatedQuestions = [],
    relatedBlogs = [],
    currentPage = "",
} = Astro.props;
---

{
    relatedQuestions.length > 0 && (
        <section class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center gap-2">
                <svg
                    class="w-5 h-5 text-indigo-600"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                </svg>
                Related Questions
            </h3>
            <div class="space-y-3">
                {relatedQuestions.slice(0, 5).map((q: any) => (
                    <a
                        href={`/questions/${q.slug}/`}
                        class="block p-3 rounded-lg hover:bg-indigo-50 transition-colors group"
                    >
                        <div class="font-semibold text-gray-900 group-hover:text-indigo-600 text-sm mb-1">
                            {q.question}
                        </div>
                        <div class="text-xs text-gray-600 line-clamp-1">
                            {q.quickAnswer
                                ? q.quickAnswer.slice(0, 100) + "..."
                                : ""}
                        </div>
                    </a>
                ))}
            </div>
            <a
                href="/questions/"
                class="block mt-4 text-center text-indigo-600 font-semibold text-sm hover:underline"
            >
                View All Questions →
            </a>
        </section>
    )
}

{
    relatedBlogs.length > 0 && (
        <section class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center gap-2">
                <svg
                    class="w-5 h-5 text-blue-600"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"
                    />
                </svg>
                Related Articles & Resources
            </h3>
            <div class="space-y-3">
                {relatedBlogs.slice(0, 4).map((blog: any) => (
                    <a
                        href={blog.url}
                        class="block p-3 rounded-lg bg-white hover:shadow-md transition-all group border border-blue-100"
                    >
                        <div class="font-semibold text-gray-900 group-hover:text-blue-600 text-sm mb-1">
                            {blog.title}
                        </div>
                        {blog.excerpt && (
                            <div class="text-xs text-gray-600 line-clamp-2">
                                {blog.excerpt}
                            </div>
                        )}
                        <div class="text-xs text-blue-600 font-medium mt-2">
                            Read more →
                        </div>
                    </a>
                ))}
            </div>
        </section>
    )
}
